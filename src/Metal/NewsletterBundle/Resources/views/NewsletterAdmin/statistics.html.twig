{% extends 'SonataAdminBundle:CRUD:base_list_field.html.twig' %}

{% block field%}
    <dl>
        <dt>Получатели:</dt>
        <dd>{{ object.getAttribute('recipientsCount')|number_format_decimal }}</dd>
        <dt>Обработано:</dt>
        {% set recipientsCount = object.getAttribute('recipientsCount') %}
        {% if recipientsCount == 0 %}
            {% set recipientsCount = 1 %}
        {% endif %}
        {% set processed = object.getAttribute('processedRecipientsCount') / recipientsCount * 100 %}
        <dd>{{ object.getAttribute('processedRecipientsCount')|number_format_decimal }} ({{ '%.2f'|format(processed) }}%)</dd>
        <dt>Отправлено:</dt>
        <dd>{{ object.getAttribute('sentRecipientsCount')|number_format_decimal }}</dd>
        <dt>Просмотрено:</dt>
        <dd>{{ object.getAttribute('viewsCount')|number_format_decimal }}</dd>
    </dl>
{% endblock %}
